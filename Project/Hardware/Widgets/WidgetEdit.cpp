///////////////////////////////////////////////////////////////////////////////
//////////////////////////////// INCLUDES /////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

#include "WidgetEdit.h"

///////////////////////////////////////////////////////////////////////////////
//////////////////////////////// FUNCTIONS ////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

void WidgetEdit::Draw (void)
{
    Widget::Draw (Id, Coordinate);

    uint16_t xPos = Coordinate.X;
    uint16_t yPos = Coordinate.Y;
    for (uint8_t asciNum = ZERO; asciNum < Text.size (); asciNum++)
    {
        Bitmap & bitmap     = resources [static_cast <Font::EId>(Text.at (asciNum))];
        if ((xPos + bitmap.Dimension.Width) >= (Coordinate.X + Dimension.Width))
        {
            xPos = Coordinate.X;
            yPos += bitmap.Dimension.Height;
        }

        if (yPos >= Coordinate.Y + Dimension.Height) { break; }

        bitmap.Coordinate.X = xPos;
        bitmap.Coordinate.Y = yPos;
        xPos += bitmap.Dimension.Width;
        draftsman.DrawBitmap (bitmap);
    }
}

///////////////////////////////////////////////////////////////////////////////
/////////////////////////////// END OF FILE ///////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
